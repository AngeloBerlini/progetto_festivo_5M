{% extends 'base.html' %}

{% block content %}
    <h2>ğŸ›¡ï¸ Squadre Partecipanti</h2>
    {% if g.user %}
    <a href="{{ url_for('main.add_team') }}" style="display: inline-block; padding: 10px 20px; background-color: #4CAF50; color: white; text-decoration: none; border-radius: 5px; margin-bottom: 20px;">â• Aggiungi Squadra</a>
    {% endif %}
    
    <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
        <thead>
            <tr style="background-color: #00796b; color: white;">
                <th style="border: 1px solid #ddd; padding: 10px; text-align: left;">Squadra</th>
                <th style="border: 1px solid #ddd; padding: 10px; text-align: center;">Partite</th>
                <th style="border: 1px solid #ddd; padding: 10px; text-align: center;">Gol Fatti</th>
                <th style="border: 1px solid #ddd; padding: 10px; text-align: center;">Gol Subiti</th>
                <th style="border: 1px solid #ddd; padding: 10px; text-align: center;">Differenza Reti</th>
            </tr>
        </thead>
        <tbody>
            {% for team in stats %}
            <tr style="border: 1px solid #ddd;">
                <td style="border: 1px solid #ddd; padding: 10px;"><strong>{{ team['name'] }}</strong> <br><small style="color: #999;">{{ team['city'] }}</small></td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center;">{{ team['matches_played'] }}</td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center; color: green; font-weight: bold;">{{ team['goals_for'] }}</td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center; color: red; font-weight: bold;">{{ team['goals_against'] }}</td>
                <td style="border: 1px solid #ddd; padding: 10px; text-align: center; font-weight: bold; 
                    {% if team['goals_for'] - team['goals_against'] > 0 %}color: green;{% elif team['goals_for'] - team['goals_against'] < 0 %}color: red;{% endif %}">
                    {{ team['goals_for'] - team['goals_against'] }}
                </td>
            </tr>
            {% else %}
                <tr><td colspan="5" style="text-align: center; padding: 20px;">Nessuna squadra presente.</td></tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}